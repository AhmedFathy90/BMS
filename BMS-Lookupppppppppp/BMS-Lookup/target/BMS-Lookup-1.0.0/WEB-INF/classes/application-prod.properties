# ==========================================
# إعدادات قاعدة البيانات Teradata
# ==========================================

# URL قاعدة البيانات
spring.datasource.url=jdbc:teradata://192.168.232.141/DATABASE=GDEV1T_UHI_DATA,CHARSET=UTF8,TMODE=TERA

# بيانات الاعتماد
spring.datasource.username=dbc
spring.datasource.password=dbc

# Driver قاعدة البيانات
spring.datasource.driver-class-name=com.teradata.jdbc.TeraDriver

# ==========================================
# إعدادات HikariCP Connection Pool
# ==========================================

# حجم Pool الأقصى
spring.datasource.hikari.maximum-pool-size=20

# الحد الأدنى للاتصالات الخاملة
spring.datasource.hikari.minimum-idle=5

# مهلة الاتصال (مللي ثانية)
spring.datasource.hikari.connection-timeout=30000

# مهلة الخمول (مللي ثانية)
spring.datasource.hikari.idle-timeout=600000

# العمر الأقصى للاتصال (مللي ثانية)
spring.datasource.hikari.max-lifetime=1800000

# مهلة كشف التسريب (مللي ثانية)
spring.datasource.hikari.leak-detection-threshold=60000

# اسم Pool
spring.datasource.hikari.pool-name=BMSLookupHikariPool

# ==========================================
# إعدادات SOAP Web Services
# ==========================================

# مسار SOAP
spring.webservices.path=/ws

# تفعيل WSDL
spring.webservices.wsdl-location=/ws/service.wsdl

# ==========================================
# إعدادات التطبيق
# ==========================================

# منفذ الخادم
server.port=8080

# سياق التطبيق
server.servlet.context-path=/bms-lookup

# اسم التطبيق
spring.application.name=bms-lookup-service

# ==========================================
# إعدادات Logging
# ==========================================

# مستوى Logging للتطبيق
logging.level.com.example.bmslookup=INFO

# مستوى Logging لـ Spring Web Services
logging.level.org.springframework.ws=INFO

# مستوى Logging لـ JDBC
logging.level.org.springframework.jdbc=INFO

# مستوى Logging لـ HikariCP
logging.level.com.zaxxer.hikari=INFO

# مستوى Logging لـ Teradata
logging.level.com.teradata=WARN

# نمط Logging
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ملف Logging
logging.file.name=logs/bms-lookup-service.log
logging.file.max-size=100MB
logging.file.max-history=30

# ==========================================
# إعدادات الأمان
# ==========================================

# تفعيل HTTPS (اختياري)
#server.ssl.enabled=false
#server.ssl.key-store=classpath:keystore.p12
#server.ssl.key-store-password=your-keystore-password
#server.ssl.key-store-type=PKCS12

# ==========================================
# إعدادات الأداء
# ==========================================

# حجم Buffer للـ HTTP
server.tomcat.max-http-form-post-size=10MB
server.tomcat.max-swallow-size=10MB

# مهلة الطلب
server.tomcat.connection-timeout=20000

# عدد Threads
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10

# ==========================================
# إعدادات Teradata المخصصة
# ==========================================

# إعدادات Teradata
teradata.database=GDEV1T_UHI_DATA
teradata.session-mode=TERA
teradata.charset=UTF8
teradata.logmech=LDAP
teradata.dbs-port=1025
teradata.sessions=1
teradata.max-sessions=10
teradata.sessions-per-user=5
teradata.max-sessions-per-user=10

# إعدادات Query
teradata.query-timeout=300
teradata.login-timeout=30
teradata.socket-timeout=300
teradata.query-band=BMS_LOOKUP_SERVICE

# إعدادات التشفير
teradata.encrypt-data=true
teradata.encrypt-method=SSL
teradata.trusted-certificate=true

# ==========================================
# إعدادات التطبيق المخصصة
# ==========================================

# الجداول المسموحة
app.allowed-tables=bms_Area_lkp,bms_Country_lkp,bms_DiseaseList_lkp,bms_City_lkp,bms_Governorate_lkp,bms_Insurance_lkp,bms_MedicalCenter_lkp,bms_Specialty_lkp

# الحد الأقصى لحجم JSON
app.max-json-size=10000

# مهلة العمليات (ثانية)
app.operation-timeout=300

# تفعيل Cache
app.cache.enabled=true
app.cache.ttl=3600

# ==========================================
# إعدادات المراقبة
# ==========================================

# تفعيل Actuator
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always

# إعدادات Metrics
management.metrics.export.prometheus.enabled=true
management.metrics.export.prometheus.step=60s



# تفعيل DevTools
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# ==========================================
# متغيرات البيئة
# ==========================================

# يمكن استخدام متغيرات البيئة
# TERADATA_USERNAME=dbc
# TERADATA_PASSWORD=dbc
# TERADATA_SERVER=192.168.232.134

# ==========================================
# إعدادات Profile
# ==========================================



# Profile للإنتاج
#spring.profiles.active=prod

# Profile للتطوير
#spring.profiles.active=dev

# Profile للاختبار
#spring.profiles.active=test